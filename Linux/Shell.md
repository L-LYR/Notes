# 命令行简单入门摘要

## 基本操作

### 文件与目录操作

#### `cd [dst]`

**Change Directory**，跳转，一个非常非常常用的指令。

`[dst]`可以是绝对路径，也可以是相对路径（相对路径包括`..`和`.`，有的还可以使用`...`，依次表示当前目录、当前目录的父目录、当前目录的父目录的父目录），更可以为空（为空则默认为`~`）。

#### `pwd`

**Print Working Directory**，打印当前目录的绝对路径。

#### `ls [para]`

**List**，显示目标列表。

没有参数时，`ls`会按字母排序打印当前目录中所有未隐藏的文件及文件夹。

参数`-F --classify`，在默认功能的基础上在末尾增加文件描述符，比如，对于文件夹则有`/`，对于具有可执行权限的文件则有`*`等等。

参数`-a --all`，打印所有文件及文件夹，包括隐藏的。

参数`-R --recursive`，递归选项，对当前目录进行递归`ls`操作。

参数`-l [pattern]`，输出当前目录下所有文件及文件夹的相关信息，及所谓长列表模式。`[pattern]`是模式匹配（详见下文），如果为空则输出当前目录下的所有文件及文件夹，否则只输出名称符合模式的。该模式打印的信息依次有：类型、权限、硬链接数、归属用户、归属组、字节大小、最后修改时间、名称。

#### `touch [src]`

创建空文件，文件归属于创建者。

#### `cp [para] [src] [dst]`

**Copy**，文件复制。

如果源对象和目标对象都是文件名，那么就会创建一个新文件，有新名称、新修改时间，默认覆盖同名文件，可以用`-i`参数进行强制确认是否覆盖。

如果目标对象是路径，那么相当于拷贝至目标路径下。

如果源对象是路径，那么需要加入参数`-R`进行递归拷贝。

#### `ln [para] [src] [dst]`

**Link**，链接。链接的介绍详见下文。

没有参数时进行硬链接，有参数`-s`则进行符号链接。

链接建立时需要保证源文件存在。

#### `mv [src] [dst]`

**Move**，移动及重命名。

只影响文件名不影响时间戳。

如果源对象和目标对象都是文件名，那么就是重命名操作。

如果目标对象是路径，那么就是移动文件操作。

如果源对象是路径，那么就是移动目录操作。

#### `rm [para] [src]`

**Remove**，删除文件。

参数`-i`，删除前提示是否删除，因为`bash`没有回收站，日常使用时记得加！！。

参数`-f`，强制删除。

参数`-r -R --recursive`，递归删除目录。

#### `mkdir [para] [src]`

**Make Directory**，创建目录。

如果想批量创建目录和子目录需要加参数`-p`，如`mkdir -p NewDir/SubDir`

#### `rmdir [src]`

**Remove Directory**，删除目录。

注意，这个命令只能删除空目录，必须先用`rm`递归删除目录下的全部文件，这样操作之前，请务必用`tree`工具查看目录结构。

#### `file [src]`

查看文件类型及部分信息。

#### `cat [para] [src]`

**Concatenate**，显示文件内容。

参数`-n`，添加行号。

参数`-b`，仅为有文本的行添加行号。

参数`-T`，去除制表符。

#### `more [para] [src]`

分页阅读工具。

#### `less [para] [src]`

更高级的分页阅读工具，涵盖`more`的功能。

#### `tail [para] [src]`

显示文件最后几行的内容，默认10行。

参数`-n [number]`，指定显示行数。

参数`-f`，允许文件被其他进程占用时也可以查看且实时更新。

#### `head [para] [src]`

显示文件开头几行的内容，默认10行。

参数`-n [number]`，指定显示行数。

不支持参数`-f`。

## Shell特性

### 模式匹配

常用通配符进行文件名匹配，比如上面所说的`ls`命令。

#### `*`

`*`代表任意多个字符，如`*.log`即表示以`.log`为后缀的文件。

#### `?`

`?`表示任意单个字符，如`file?`可以匹配`file1 file2 file3`等文件。

#### `[...]`

`[...]`代表填写在其中的某个字符，其中可以用`-`来表示范围，用`^`表示不取，如`[0-9]`表示只由数字构成的文件，`*[^.txt]*`表示不是由`.txt`结尾的文件，`f[a-z]ll`可以匹配`fill fell full`。

#### `{...}`

`{...}`表示符合花括号内任意一个模式的文件。比如`{.log, .txt}`匹配后缀为`.txt`或`.log`的文件。

## Linux特性

### 链接

如果需要再系统上维护同一个文件的两份或多份副本，除了保存多份单独的物理文件之外，还可以采用保存一份物理文件副本和多个虚拟副本的方法。所谓虚拟副本就是链接，进一步解释为，目录中指向文件真实位置的占位符，分为符号链接和硬链接。注意不要拷贝链接文件，容易造成混乱。

符号链接事实上就是一个文件，它指向存放在虚拟目录结构中某个地方的另一个文件。两个通过符号链接在一起的文件，彼此的内容并不一样，通过`ls -l`指令可以查看符号链接文件的属性，大小很小，末尾有符号`->`后接目标文件，所以可以理解为Windows下的快捷方式。

硬链接会创建独立的虚拟文件，其中包含了原始文件的信息与位置，但从根本上而言是同一个文件，因此用`ls -l`指令查看二者信息，除了名字不同其他都一样。