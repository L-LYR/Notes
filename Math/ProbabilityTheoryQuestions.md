# Q1

> 设有$n$个独立事件$A_1,A_2,\dots,A_n$，其概率分别为$p_1,p_2,\ldots,p_n$，这里我们记$p=\sum_{i=0}^np_i$。（其中$p_i\in(0,1),i=1,2,\ldots,n$）证明：
>
> 1. 事件“$A_1,A_2,\ldots,A_n$都不发生”的概率小于$e^{-p}$；
>
> 2. 事件“$A_1,A_2,\ldots,A_n$中至少发生$k$个”的概率小于$\frac{p^k}{k!}$。

证明：

1. 设所求事件为$B$，则易得

$$
P(B)=\prod_{i=1}^n(1-p_i)
$$

又由$e^x\ge x+1$得
$$
1-p_i<e^{-p_i}
$$
故
$$
P(B)<\prod_{i=1}^ne^{-p_i}=e^{-p}
$$

2. 设恰好有$k$个事件发生的概率为$q_k$，则所求事件$C_k$的概率为

$$
P_k(C_k)=\sum_{j=k}^n q_j
$$

接着我们考虑$q_k$与$q_{k+1}$间的关系

易知$q_k$可表示如下
$$
q_k=\sum\prod p_{i_k}\prod(1-p_{j_{n-k}})
$$
其中求和项数为$C_n^k$，第一个求积项数为$k$，第二个为$n-k$。

同理，$q_{k+1}$可表示为（这里其实是等于但为了和下面统一所以写成小于等于）
$$
q_{k+1}=\sum\prod p_{i_{k+1}}\prod(1-p_{j_{n-k-1}})\le\sum[\prod p_{i_{k}}\prod(1-p_{j_{n-k-1}})] p_{i_{k+1}}
$$
其中求和项数为$C_n^{k+1}$，第一个求积项数为$k+1$，第二个为$n-k-1$。

这里我们注意到$q_{k+1}$中$p_{i_{k+1}}$项在$q_k$中出现的形式为$1-p_{i_{k+1}}$。因此当二者相加时，对应项合并，得到
$$
q_k+q_{k+1}\le \sum \prod p_{i_k} \prod(1-p_{n-k-1})
$$
其中求和项数为$\max\{C_n^k,C_n^{k+1}\}$，第一个求积项数为$k$，第二个为$n-k-1 $。

进一步，$q_{k+2}$表示为
$$
\begin{align}
q_{k+2}=\sum\prod p_{i_{k+2}}\prod(1-p_{j_{n-k-2}})=&\sum[\prod p_{i_{k}}\prod(1-p_{j_{n-k-2}})] p_{i_{k+1}}p_{i_{k+2}}
\\<& \sum[\prod p_{i_{k}}\prod(1-p_{j_{n-k-2}})] p_{i_{k+2}}
\\&(p_{i_{k+1}}<1)
\end{align}
$$
其中求和项数为$C_n^{k+2}$，第一个求积项数为$k+2$，第二个为$n-k-2$。

同上合并方法
$$
q_k+q_{k+1}+q_{k+2}<\sum \prod p_{i_k} \prod(1-p_{n-k-2})
$$
其中求和项数为$\max\{C_n^k,C_n^{k+1},C_n^{k+2}\}$，第一个求积项数为$k$，第二个为$n-k-2 $。

依次类推，每增加一项，第二个求积都会减少一项，因此：
$$
P_0(C_0)=\sum_{j=0}^nq_j<\sum \prod p_{i_k}
$$
其中求和项数为$\max\{C_n^0,\ldots,C_n^k,C_n^{k+1},\ldots,C_n^n\}$，求积项数为$k$。

最后我们考虑怎样会出现$\prod p_{i_k}$项，这里很容易联想到$(p_1+p_2+\cdots+p_n)^k$，即$p^k$。

对于任意的一组$\{ p_{i_k} \}$选取都有$k!$种排列顺序，所以在上述多项式的展开式中均出现了$k! $次，故
$$
P_k(C_k)=\sum_{j=k}^nq_j\le P_0(C_0)=\sum_{j=0}^nq_j<\sum \prod p_{i_k}\le\frac{p^k}{k!}
$$
