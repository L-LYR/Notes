# 正则表达式

## 简介

正则表达式(regular expression)描述了一种字符串匹配的模式，用来检查目标串是否含有符合模式的子串，便于做进一步的操作，如删除、替换等，由普通字符以及特殊字符（元字符）组成。

## 组成

### 普通字符

普通字符即为没有显式地定义为元字符的所有可打印和不可打印字符。

### 元字符

具有特殊含义的字符，单独使用表示特殊含义，表示原义则需要使用转义。

| 元字符 | 特殊含义                                                     |
| ------ | ------------------------------------------------------------ |
| `$`    | 匹配输入字符串的结尾位置。                                   |
| `()`   | 标记一个子表达式的开始与结束。                               |
| `*`    | 匹配前面的子表达式零次或多次。                               |
| `+`    | 匹配前面的子表达式一次或多次。                               |
| `.`    | 匹配除换行符之外的任何单字符。                               |
| `[]`   | 定义匹配的字符范围。                                         |
| `?`    | 匹配前面的子表达式零次或一次。当该字符紧跟在任何一个其他限制符`(*, +, ?, {n}, {n,}, {n,m})`后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串。 |
| `\`    | 转义。                                                       |
| `^`    | 匹配输入字符串的开始位置。在`[]`中使用表示排除。             |
| `{}`   | 定义匹配次数（长度）。`{n}`表示匹配`n`次，`{n,}`表示至少匹配`n`次，`{n,m}`表示至少匹配`n`次至多`m`次。 |
| `|`    | 指明两项之间的一个选择。                                     |

### 转义序列

| 转义序列 | 描述                                                         |
| :------- | :----------------------------------------------------------- |
| `\cx`    | 匹配由`x`指明的控制字符。例如，`\cM`匹配一个`Ctrl-M`或回车符。`x`的值必须为`A-Z`或`a-z`之一。否则，将`c`视为一个原义的`'c'`字符。 |
| `\f`     | 匹配一个换页符，等价于`\x0c`和`\cL`。                        |
| `\n`     | 匹配一个换行符，等价于`\x0a`和`\cJ`。                        |
| `\r`     | 匹配一个回车符，等价于`\x0d`和`\cM`。                        |
| `\s`     | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 `[\f\n\r\t\v]`。 |
| `\S`     | 匹配任何非空白字符，等价于`[^ \f\n\r\t\v]`。                 |
| `\t`     | 匹配一个制表符，等价于`\x09`和`\cI`。                        |
| `\v`     | 匹配一个垂直制表符，等价于`\x0b`和`\cK`。                    |
| `\b`     | 匹配一个单词边界。                                           |
| `\B`     | 匹配一个非单词边界。                                         |
| `\d`     | 匹配一个数字，等价于`[0-9]`。                                |
| `\D`     | 匹配一个非数字，等价于`[^0-9]`。                             |
| `\w`     | 匹配包括下划线的任何单词字符，等价于`[A-Za-z0-9_]`。         |
| `\W`     | 匹配任何非单词字符，等价于`[^A-Za-z0-9_]`。                  |
| `\xn`    | 匹配`n`，其中`n`为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，`'\x41'`匹配`"A"`。`'\x041'`则等价于`'\x04'`& `"1"`。 |
| `\num`   | 匹配`num`，其中`num`是一个正整数。对所获取的匹配的引用。例如，`'(.)\1'`匹配两个连续的相同字符。 |
| `\n`     | 标识一个八进制转义值或一个向后引用。如果`\n`之前至少`n`个获取的子表达式，则`n`为向后引用。否则，如果`n`为八进制数字`(0-7)`，则`n`为一个八进制转义值。 |
| `\nm`    | 标识一个八进制转义值或一个向后引用。如果`\nm`之前至少有`nm`个获得子表达式，则`nm`为向后引用。如果`\nm`之前至少有`n`个获取，则`n`为一个后跟文字`m`的向后引用。如果前面的条件都不满足，若`n`和`m`均为八进制数字`(0-7)`，则`\nm`将匹配八进制转义值`nm`。 |
| `\nml`   | 如果`n`为八进制数字`(0-3)`，且`m`和`l`均为八进制数字`(0-7)`，则匹配八进制转义值`nml`。 |
| `\un`    | 匹配`n`，其中`n`是一个用四个十六进制数字表示的Unicode字符。例如，`\u00A9`匹配版权符号。 |

==**注**==：

1. 单词边界指单词和符号之间的边界，单词指字符和数字，符号指标点符号和空白字符。